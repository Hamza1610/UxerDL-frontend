{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MAHIR\\\\Desktop\\\\Web projects\\\\PROJECTS\\\\Fullstack projects\\\\UxerDL Alx\\\\UxerDL\\\\frontend\\\\src\\\\components\\\\Upload.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Upload = () => {\n  _s();\n\n  const [file, setFile] = useState(null);\n  const [bookName, setBookName] = useState('');\n  const [bookCategory, setBookCategory] = useState('');\n  const [bookDescription, setBookDescription] = useState('');\n  const [UploaderName, setUploaderName] = useState('');\n  const [error, setError] = useState(null);\n\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n    setFileName(e.target.value);\n  };\n\n  const handleSubmit = async e => {\n    /* A function that send both book and info to the books\r\n    folder and the database*/\n    e.preventDefault();\n    console.log(\"Handle Submit function clicked\");\n    const Data = new FormData();\n    Data.append(\"file\", file);\n    Data.append(\"bookName\", bookName);\n    Data.append(\"bookCategory\", bookCategory);\n    Data.append(\"bookDescription\", bookDescription);\n    Data.append(\"UploaderName\", UploaderName);\n    const response = await fetch('/api/upload', {\n      method: 'POST',\n      body: Data\n    });\n    const json = await response.json();\n\n    if (!response.ok) {\n      setError(json.error);\n    }\n\n    if (response && response.ok) {\n      setBookName('');\n      setBookCategory('');\n      setBookDescription('');\n      setUploaderName('');\n      setError(null);\n      console.log(\"File successfully upload\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-div\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"uploadForm\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"fileName\",\n        children: \"Enter file\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"file\",\n        id: \"file\",\n        onChange: handleFileChange,\n        placeholder: \"Please select from your drive\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"bookName\",\n        className: \"bookName\",\n        placeholder: \"Enter name of book\",\n        onChange: e => setBookName(e.target.value),\n        value: bookName,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"bookCategory\",\n        children: \"Book category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"bookCategory\",\n        className: \"bookCategory\",\n        onChange: e => setBookCategory(e.target.value),\n        value: bookCategory,\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Science\",\n          children: \"Science\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Art\",\n          children: \"Art\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Novel/Novella\",\n          children: \"Novel/Novella\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Book description\",\n        name: \"bookDescription\",\n        className: \"bookDescription\",\n        onChange: e => setBookDescription(e.target.value),\n        value: bookDescription,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"UploaderName\",\n        className: \"UploaderName\",\n        placeholder: \"Uploader's name\",\n        onChange: e => setUploaderName(e.target.value),\n        value: UploaderName,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"errorName\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        name: \"submitButton\",\n        className: \"submitButton\",\n        value: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Upload, \"6hb2LewOzsdE2OQkTX6ezfNI4NM=\");\n\n_c = Upload;\nexport default Upload;\n\nvar _c;\n\n$RefreshReg$(_c, \"Upload\");","map":{"version":3,"names":["useState","Upload","file","setFile","bookName","setBookName","bookCategory","setBookCategory","bookDescription","setBookDescription","UploaderName","setUploaderName","error","setError","handleFileChange","e","target","files","setFileName","value","handleSubmit","preventDefault","console","log","Data","FormData","append","response","fetch","method","body","json","ok"],"sources":["C:/Users/MAHIR/Desktop/Web projects/PROJECTS/Fullstack projects/UxerDL Alx/UxerDL/frontend/src/components/Upload.js"],"sourcesContent":["import { useState } from \"react\";\r\nconst Upload = () => {\r\n    const [file, setFile] = useState(null)\r\n    const [bookName, setBookName] = useState('')\r\n    const [bookCategory, setBookCategory] = useState('')\r\n    const [bookDescription, setBookDescription] = useState('')\r\n    const [UploaderName, setUploaderName] = useState('')\r\n    const [error, setError] = useState(null)\r\n\r\n    const handleFileChange = (e) => {\r\n        setFile(e.target.files[0]);\r\n        setFileName(e.target.value);\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        /* A function that send both book and info to the books\r\n        folder and the database*/\r\n        e.preventDefault();\r\n        console.log(\"Handle Submit function clicked\");\r\n\r\n\r\n        const Data = new FormData();\r\n        Data.append(\"file\", file);\r\n        Data.append(\"bookName\", bookName);\r\n        Data.append(\"bookCategory\", bookCategory);\r\n        Data.append(\"bookDescription\", bookDescription);\r\n        Data.append(\"UploaderName\", UploaderName);\r\n\r\n        const response = await fetch('/api/upload',{\r\n            method : 'POST',\r\n            body : Data,\r\n        })\r\n        const json = await response.json();\r\n        \r\n        if (!response.ok) {\r\n            setError(json.error)\r\n        }\r\n        if (response && response.ok) {\r\n            setBookName('')\r\n            setBookCategory('')\r\n            setBookDescription('')\r\n            setUploaderName('')\r\n            setError(null)\r\n\r\n            console.log(\"File successfully upload\");\r\n        }\r\n\r\n    }\r\n    return (\r\n        <div className=\"form-div\">\r\n            <form className=\"uploadForm\" onSubmit={handleSubmit}>\r\n                <label htmlFor=\"fileName\">Enter file</label>\r\n                <input\r\n                    type=\"file\"\r\n                    name = \"file\"\r\n                    id=\"file\"\r\n                    onChange={handleFileChange}\r\n                    placeholder = \"Please select from your drive\"\r\n                    required\r\n                />\r\n\r\n                <input\r\n                    type=\"text\"\r\n                    name = \"bookName\"\r\n                    className = \"bookName\"\r\n                    placeholder = \"Enter name of book\"\r\n                    onChange={(e) => setBookName(e.target.value)}\r\n                    value={bookName}\r\n                    required\r\n                />\r\n                <label htmlFor =\"bookCategory\">Book category</label>\r\n                <select \r\n                name = \"bookCategory\"\r\n                className = \"bookCategory\"\r\n                onChange={(e) => setBookCategory(e.target.value)}\r\n                value={bookCategory}\r\n                required>\r\n                    <option value=\"Science\">Science</option>\r\n                    <option value=\"Art\">Art</option>\r\n                    <option value=\"Novel/Novella\">Novel/Novella</option>\r\n                </select>\r\n\r\n                <textarea\r\n                    placeholder=\"Book description\"\r\n                    name=\"bookDescription\"\r\n                    className=\"bookDescription\"\r\n                    onChange={(e) => setBookDescription(e.target.value)}\r\n                    value={bookDescription}\r\n                    required\r\n                ></textarea>\r\n                <input\r\n                    type=\"text\"\r\n                    name = \"UploaderName\"\r\n                    className = \"UploaderName\"\r\n                    placeholder = \"Uploader's name\"\r\n                    onChange={(e) => setUploaderName(e.target.value)}\r\n                    value={UploaderName}\r\n                    required\r\n                />\r\n                {error && <div className=\"errorName\">{error}</div>}\r\n                <input\r\n                    type=\"submit\"\r\n                    name = \"submitButton\"\r\n                    className = \"submitButton\"\r\n                    value = \"Upload\"\r\n                />\r\n\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nexport default Upload;"],"mappings":"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"},"metadata":{},"sourceType":"module"}