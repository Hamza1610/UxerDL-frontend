{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MAHIR\\\\Desktop\\\\Web projects\\\\PROJECTS\\\\Fullstack projects\\\\UxerDL Alx\\\\frontend\\\\src\\\\components\\\\card.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Card = props => {\n  const listDetails = props.list;\n\n  const handleClick = async () => {\n    console.log(\"Function clicked\");\n\n    try {\n      const response = await fetch('/api/download', {\n        method: 'POST',\n        body: JSON.stringify({\n          _id: listDetails._id\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        responseType: 'blob' // Set the response type to 'blob' to handle binary data\n\n      });\n\n      if (!response.ok) {\n        console.log('Error');\n        return;\n      }\n\n      const blob = await response.blob(); // Create a temporary URL for the blob\n\n      const url = URL.createObjectURL(blob); // Create an anchor element and trigger the download\n\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = listDetails.fileName; // Provide the desired file name\n\n      a.click(); // Clean up the temporary URL\n\n      URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card-div\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dowload-div\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"download-button\",\n        onClick: handleClick,\n        children: \"Download\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"book-destription-div\",\n        children: listDetails.bookDescription\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"book-detail-div\",\n        children: [/*#__PURE__*/_jsxDEV(\"text\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Name of book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this), \" : \", /*#__PURE__*/_jsxDEV(\"small\", {\n            children: listDetails.bookName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 47\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 91\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), \" : \", /*#__PURE__*/_jsxDEV(\"small\", {\n            children: listDetails.bookCategory\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 43\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 91\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Author\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this), \" : \", /*#__PURE__*/_jsxDEV(\"small\", {\n            children: listDetails.UploaderName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 89\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 7\n  }, this);\n};\n\n_c = Card;\nexport default Card;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"names":["Card","props","listDetails","list","handleClick","console","log","response","fetch","method","body","JSON","stringify","_id","headers","responseType","ok","blob","url","URL","createObjectURL","a","document","createElement","href","download","fileName","click","revokeObjectURL","error","bookDescription","bookName","bookCategory","UploaderName"],"sources":["C:/Users/MAHIR/Desktop/Web projects/PROJECTS/Fullstack projects/UxerDL Alx/frontend/src/components/card.js"],"sourcesContent":["const Card = (props) => {\r\n\r\n  const listDetails = props.list\r\n\r\n  const handleClick = async () => { \r\n    \r\n      console.log(\"Function clicked\");\r\n      try {\r\n          const response = await fetch('/api/download', {\r\n            method: 'POST',\r\n            body: JSON.stringify({ _id: listDetails._id }),\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n            },\r\n            responseType: 'blob', // Set the response type to 'blob' to handle binary data\r\n          });\r\n      \r\n          if (!response.ok) {\r\n            console.log('Error');\r\n            return;\r\n          }\r\n      \r\n          const blob = await response.blob();\r\n      \r\n          // Create a temporary URL for the blob\r\n          const url = URL.createObjectURL(blob);\r\n      \r\n          // Create an anchor element and trigger the download\r\n          const a = document.createElement('a');\r\n          a.href = url;\r\n          a.download = listDetails.fileName; // Provide the desired file name\r\n          a.click();\r\n      \r\n          // Clean up the temporary URL\r\n          URL.revokeObjectURL(url);\r\n        } catch (error) {\r\n          console.error('Error:', error);\r\n        }\r\n    \r\n  }\r\n\r\n  return (\r\n      <div className=\"card-div\">\r\n          <div className=\"dowload-div\">\r\n              <button className=\"download-button\" onClick={handleClick}>Download</button>\r\n          </div>\r\n          <div className=\"card-content\"> \r\n              <div className=\"book-destription-div\">{listDetails.bookDescription}</div>\r\n              <div className=\"book-detail-div\">\r\n                  <text><b>Name of book</b> : <small>{listDetails.bookName}</small></text><br />\r\n                  <text><b>Category</b> : <small>{listDetails.bookCategory}</small></text><br />\r\n                  <text><b>Author</b> : <small>{listDetails.UploaderName}</small></text><br />\r\n              </div>\r\n          </div>\r\n      </div>\r\n  )\r\n}\r\nexport default Card;\r\n"],"mappings":";;;AAAA,MAAMA,IAAI,GAAIC,KAAD,IAAW;EAEtB,MAAMC,WAAW,GAAGD,KAAK,CAACE,IAA1B;;EAEA,MAAMC,WAAW,GAAG,YAAY;IAE5BC,OAAO,CAACC,GAAR,CAAY,kBAAZ;;IACA,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,eAAD,EAAkB;QAC5CC,MAAM,EAAE,MADoC;QAE5CC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;UAAEC,GAAG,EAAEX,WAAW,CAACW;QAAnB,CAAf,CAFsC;QAG5CC,OAAO,EAAE;UACP,gBAAgB;QADT,CAHmC;QAM5CC,YAAY,EAAE,MAN8B,CAMtB;;MANsB,CAAlB,CAA5B;;MASA,IAAI,CAACR,QAAQ,CAACS,EAAd,EAAkB;QAChBX,OAAO,CAACC,GAAR,CAAY,OAAZ;QACA;MACD;;MAED,MAAMW,IAAI,GAAG,MAAMV,QAAQ,CAACU,IAAT,EAAnB,CAfA,CAiBA;;MACA,MAAMC,GAAG,GAAGC,GAAG,CAACC,eAAJ,CAAoBH,IAApB,CAAZ,CAlBA,CAoBA;;MACA,MAAMI,CAAC,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAV;MACAF,CAAC,CAACG,IAAF,GAASN,GAAT;MACAG,CAAC,CAACI,QAAF,GAAavB,WAAW,CAACwB,QAAzB,CAvBA,CAuBmC;;MACnCL,CAAC,CAACM,KAAF,GAxBA,CA0BA;;MACAR,GAAG,CAACS,eAAJ,CAAoBV,GAApB;IACD,CA5BH,CA4BI,OAAOW,KAAP,EAAc;MACdxB,OAAO,CAACwB,KAAR,CAAc,QAAd,EAAwBA,KAAxB;IACD;EAEN,CAnCD;;EAqCA,oBACI;IAAK,SAAS,EAAC,UAAf;IAAA,wBACI;MAAK,SAAS,EAAC,aAAf;MAAA,uBACI;QAAQ,SAAS,EAAC,iBAAlB;QAAoC,OAAO,EAAEzB,WAA7C;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QADJ,eAII;MAAK,SAAS,EAAC,cAAf;MAAA,wBACI;QAAK,SAAS,EAAC,sBAAf;QAAA,UAAuCF,WAAW,CAAC4B;MAAnD;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAK,SAAS,EAAC,iBAAf;QAAA,wBACI;UAAA,wBAAM;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAN,sBAA4B;YAAA,UAAQ5B,WAAW,CAAC6B;UAApB;YAAA;YAAA;YAAA;UAAA,QAA5B;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAC4E;UAAA;UAAA;UAAA;QAAA,QAD5E,eAEI;UAAA,wBAAM;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAN,sBAAwB;YAAA,UAAQ7B,WAAW,CAAC8B;UAApB;YAAA;YAAA;YAAA;UAAA,QAAxB;QAAA;UAAA;UAAA;UAAA;QAAA,QAFJ,eAE4E;UAAA;UAAA;UAAA;QAAA,QAF5E,eAGI;UAAA,wBAAM;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAN,sBAAsB;YAAA,UAAQ9B,WAAW,CAAC+B;UAApB;YAAA;YAAA;YAAA;UAAA,QAAtB;QAAA;UAAA;UAAA;UAAA;QAAA,QAHJ,eAG0E;UAAA;UAAA;UAAA;QAAA,QAH1E;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAJJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAeD,CAxDD;;KAAMjC,I;AAyDN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}