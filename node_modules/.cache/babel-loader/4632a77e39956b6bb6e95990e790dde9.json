{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MAHIR\\\\Desktop\\\\Web projects\\\\PROJECTS\\\\Fullstack projects\\\\UxerDL Alx\\\\UxerDL\\\\frontend\\\\src\\\\components\\\\Upload.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Upload = () => {\n  _s();\n\n  const [fileName, setFileName] = useState('');\n  const [bookName, setBookName] = useState('');\n  const [bookCategory, setBookCategory] = useState('');\n  const [bookDescription, setBookDescription] = useState('');\n  const [UploaderName, setUploaderName] = useState('');\n  const [error, setError] = useState(null);\n\n  const handleSubmit = async e => {\n    /* A function that send both book and info to the books\r\n    folder and the database*/\n    e.preventDefault();\n    console.log(\"Handle Submit function clicked\");\n    const Data = {\n      bookName: bookName,\n      bookCategory: bookCategory,\n      bookDescription: bookDescription,\n      UploaderName: UploaderName\n    };\n    const response = await fetch('/api/upload', {\n      method: 'POST',\n      body: JSON.stringify(Data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const json = await response.json();\n\n    if (!response.ok) {\n      setError(json.error);\n    }\n\n    if (response) {\n      setFileName('');\n      setBookName('');\n      setBookCategory('');\n      setBookDescription('');\n      setUploaderName('');\n      setError(null);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-div\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"uploadForm\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"fileName\",\n        children: \"Enter file\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"fileName\",\n        className: \"fileName\",\n        placeholder: \"Please select from your drive\",\n        onChange: e => setFileName(e.target.value),\n        value: fileName,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"bookName\",\n        className: \"bookName\",\n        placeholder: \"Enter name of book\",\n        onChange: e => setBookName(e.target.value),\n        value: bookName,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"bookCategory\",\n        children: \"Book category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"bookCategory\",\n        className: \"bookCategory\",\n        onChange: e => setBookCategory(e.target.value),\n        value: bookCategory,\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Science\",\n          children: \"Science\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Art\",\n          children: \"Art\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Novel/Novella\",\n          children: \"Novel/Novella\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Book description\",\n        name: \"bookDescription\",\n        className: \"bookDescription\",\n        onChange: e => setBookDescription(e.target.value),\n        value: bookDescription,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"UploaderName\",\n        className: \"UploaderName\",\n        placeholder: \"Uploader's name\",\n        onChange: e => setUploaderName(e.target.value),\n        value: UploaderName,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"errorName\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        name: \"submitButton\",\n        className: \"submitButton\",\n        value: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Upload, \"ED6C26dBssktuwpWxirViZjWmzI=\");\n\n_c = Upload;\nexport default Upload;\n\nvar _c;\n\n$RefreshReg$(_c, \"Upload\");","map":{"version":3,"names":["useState","Upload","fileName","setFileName","bookName","setBookName","bookCategory","setBookCategory","bookDescription","setBookDescription","UploaderName","setUploaderName","error","setError","handleSubmit","e","preventDefault","console","log","Data","response","fetch","method","body","JSON","stringify","headers","json","ok","target","value"],"sources":["C:/Users/MAHIR/Desktop/Web projects/PROJECTS/Fullstack projects/UxerDL Alx/UxerDL/frontend/src/components/Upload.js"],"sourcesContent":["import { useState } from \"react\";\r\nconst Upload = () => {\r\n    \r\n    const [fileName, setFileName] = useState('')\r\n    const [bookName, setBookName] = useState('')\r\n    const [bookCategory, setBookCategory] = useState('')\r\n    const [bookDescription, setBookDescription] = useState('')\r\n    const [UploaderName, setUploaderName] = useState('')\r\n    const [error, setError] = useState(null)\r\n\r\n    const handleSubmit = async (e) => {\r\n        /* A function that send both book and info to the books\r\n        folder and the database*/\r\n        e.preventDefault();\r\n        console.log(\"Handle Submit function clicked\");\r\n\r\n        const Data = { \r\n                bookName: bookName,\r\n                        bookCategory:bookCategory,\r\n                        bookDescription: bookDescription,\r\n                        UploaderName: UploaderName\r\n                    }\r\n\r\n        const response = await fetch('/api/upload',{\r\n            method : 'POST',\r\n            body : JSON.stringify(Data),\r\n            headers : {\r\n                'Content-Type' : 'application/json'\r\n            }\r\n        })\r\n        const json = await response.json();\r\n        \r\n        if (!response.ok) {\r\n            setError(json.error)\r\n        }\r\n        if (response) {\r\n            setFileName('')\r\n            setBookName('')\r\n            setBookCategory('')\r\n            setBookDescription('')\r\n            setUploaderName('')\r\n            setError(null)\r\n        }\r\n\r\n    }\r\n    return (\r\n        <div className=\"form-div\">\r\n            <form className=\"uploadForm\" onSubmit={handleSubmit}>\r\n                <label htmlFor=\"fileName\">Enter file</label>\r\n                <input\r\n                    type=\"file\"\r\n                    name = \"fileName\"\r\n                    className = \"fileName\"\r\n                    placeholder = \"Please select from your drive\"\r\n                    onChange={(e) => setFileName(e.target.value)}\r\n                    value={fileName}\r\n                    required\r\n                />\r\n\r\n                <input\r\n                    type=\"text\"\r\n                    name = \"bookName\"\r\n                    className = \"bookName\"\r\n                    placeholder = \"Enter name of book\"\r\n                    onChange={(e) => setBookName(e.target.value)}\r\n                    value={bookName}\r\n                    required\r\n                />\r\n                <label htmlFor =\"bookCategory\">Book category</label>\r\n                <select \r\n                name = \"bookCategory\"\r\n                className = \"bookCategory\"\r\n                onChange={(e) => setBookCategory(e.target.value)}\r\n                value={bookCategory}\r\n                required>\r\n                    <option value=\"Science\">Science</option>\r\n                    <option value=\"Art\">Art</option>\r\n                    <option value=\"Novel/Novella\">Novel/Novella</option>\r\n                </select>\r\n\r\n                <textarea\r\n                    placeholder=\"Book description\"\r\n                    name=\"bookDescription\"\r\n                    className=\"bookDescription\"\r\n                    onChange={(e) => setBookDescription(e.target.value)}\r\n                    value={bookDescription}\r\n                    required\r\n                ></textarea>\r\n                <input\r\n                    type=\"text\"\r\n                    name = \"UploaderName\"\r\n                    className = \"UploaderName\"\r\n                    placeholder = \"Uploader's name\"\r\n                    onChange={(e) => setUploaderName(e.target.value)}\r\n                    value={UploaderName}\r\n                    required\r\n                />\r\n                {error && <div className=\"errorName\">{error}</div>}\r\n                <input\r\n                    type=\"submit\"\r\n                    name = \"submitButton\"\r\n                    className = \"submitButton\"\r\n                    value = \"Upload\"\r\n                />\r\n\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nexport default Upload;"],"mappings":"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"},"metadata":{},"sourceType":"module"}